{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}
{{ query }} | BooxMix
{% endblock %}

{% block content %}

<div class="container">
    <section id="search-playlist-wide">
        <div class="mt-4">
            {% include 'main/playlist/layouts/search-playlist-wide.html' %}
        </div>
        <h2 class="mt-4 mt-md-5 d-none d-md-inline-block">{% blocktrans %}Playlists related with "{{ query }}"{% endblocktrans %}
    </section>

    <section id="playlist-list">
        <div class="line-gray mt-4 mb-5 d-none"></div>
        <div class="row mt-4">
            {% for playlist in playlists %}
            <div class="playlist-item col-sm-6 col-lg-4">
                <a href="{% url 'main:playlist_detail' playlist.category.slug playlist.pk %}" class="color-gray">
                    <div class="line-gray my-4 my-sm-5"></div>
                    <div class="playlist-img scroll-wrapper scroll-wrapper-cover">
                        <div class="playlist-img scroll-inner scroll-inner-cover">
                            {% for book in playlist.books.all %}
                            <img class="scroll-box scroll-box-cover" src="{{ book.cover|default_if_none:'' }}">
                            {% endfor %}
                        </div>
                    </div>
                    <h2 class="mt-3">{{ playlist.title | default_if_none:'' }}</h2>
                    <p class="d-lg-none">{{ playlist.description | default_if_none:'' | truncatechars:50 }}</p>
                    <p class="d-none d-lg-inline-block">{{ playlist.description | default_if_none:'' | truncatechars:35 }}</p>
                    <button type="button" class="btn btn-outline-main w-100">{% trans 'Show more' %}</button>
                </a>
            </div>
            {% empty %}
            <div class="col-12">
                <h4>{% trans 'No playlist found. Please search by other conditions.' %}</h4>
            </div>
            {% endfor %}
        </div>
    </section>
</div>

{% endblock %}
