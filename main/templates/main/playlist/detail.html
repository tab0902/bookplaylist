{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}
{{ playlist.title }} | BooxMix
{% endblock %}

{% block content %}

<div class="container">
    <section id="playlist-detail-overview">
        <h1 class="mt-4 mt-md-5 playlist-detail-title">{{ playlist.title | default_if_none:'' }}</h1>
        <h4 class="mt-3">{{ playlist.user.username | default_if_none:'' }}</h4>
        <div class="row">
            <div class="col-md-9 mt-4">
                <p>{{ playlist.description | default_if_none:'' | linebreaksbr }}</p>
            </div>
            <div class="col-md-3 mt-md-4">
                {% if request.user == playlist.user %}
                <a href="{% url 'main:playlist_update' playlist.category.slug playlist.pk %}" class="btn btn-outline-sub w-100">
                    {% trans 'Edit' %}
                </a>
                {% endif %}
            </div>
        </div>
    </section>

    <section id="playlist-detail-books">
        {% for playlist_book in playlist.playlistbook_set.all %}
        <div class="playlist-book-item">
            <div class="line-gray my-4"></div>
            <div class="row">
                <div class="col-5 col-sm-3 col-lg-2">
                    <img class="w-100" src="{{ playlist_book.book.cover | default_if_none:'' }}">
                </div>
                <div class="col-7 col-sm-9 col-lg-7 pl-0">
                    <div class="row mt-3">
                        <div class="col-sm-8 col-lg-12">
                            <h3>{{ forloop.counter }}. {{ playlist_book.book.title | default_if_none:'' }}</h3>
                            <h5 class="">{{ playlist_book.book.author | default_if_none:'' }}</h5>
                        </div>
                        <div class="col-sm-4 d-lg-none">
                            <a href="{{ playlist_book.book.amazon_url }}" target=”_blank” class="btn btn-main w-100 mt-4 mt-sm-0">
                                {% trans 'Show more' %}
                            </a>
                        </div>
                        <div class="col-lg-12 d-none d-sm-block">
                            <p class="mt-4">{{ playlist_book.description | default_if_none:'' | linebreaksbr }}</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 d-none d-lg-block">
                    <a href="{{ playlist_book.book.amazon_url }}" target=”_blank” class="btn btn-main w-100">
                        {% trans 'Show more' %}
                    </a>
                </div>
            </div>
            <p class="mt-3 d-sm-none">{{ playlist_book.description | default_if_none:'' | linebreaksbr }}</p>
        </div>
        {% endfor %}
    </section>
</div>

{% endblock %}
